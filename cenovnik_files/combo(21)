YUI.add("mail-ui-onboarding",function(e){var t=e.common.Utils,n;e.namespace("mail.ui.Onboarding"),n=function(){function n(){var t=[],n=[],r=[],i=[];e.on("onboard:tip",function(s){var o=s.node;if(!o)return;var u=s.template,a=s.fn,f=s.dir||"left",l=s.offset,c=o.getXY(),h=[0,0],p={},d,v,m=s.parent||e.one("body"),g=s.parent?m.getXY():[0,0],y,b,w,E=s.classNames,S=s.id;d=e.Node.create("<div class='onboardtip'></div>"),m.appendChild(d),l||(l=[0,0]),NeoConfig.isRTL&&(f=f==="left"?"right":"left"),f==="right"?m===e.one("body")?c[0]=g[0]+e.one("html").get("offsetWidth")-(c[0]+o.get("offsetWidth")):c[0]=g[0]+m.get("offsetWidth")-(c[0]+o.get("offsetWidth")):c[0]=c[0]-g[0],c[1]=c[1]-g[1],h[0]=c[0]+l[0],h[1]=c[1]+l[1],d.hide(),d.set("innerHTML",u),p[f]=h[0],p.top=h[1],d.setStyles(p),S&&d.set("id",S);if(E){w=E.length;for(b=0;b<w;b++)d.addClass(E[b])}s.evt&&(v=s.evt,i.push(e.one(v.parent).delegate(v.actionType,v.handler,v.target))),d.show(),y=d.on("click",a),s.isPersistentTooltip===!0?(r.push(d),i.push(y)):(n.push(y),t.push(d))}),e.on("onboard:tipclose",function(){e.Array.each(t,function(e){e.remove()}),t=[],e.Array.each(n,function(e){e&&e.detach()})}),e.on("onboard:tipclosePersistent",function(t){var n=t&&t.fade||!1;e.Array.each(r,function(e){e.getDOMNode()&&e.hide(n,null,function(){this.remove()})}),r=[],e.Array.each(i,function(e){e&&e.detach()})})}function r(n){var r=n.name,s,u=n.offset,a=n.classNames||[],f,l,c,h;if(n.beforeShow&&!n.beforeShow())return;e.use(["scout_css"].concat(n.template?[]:["minty_module_offscreen_bin_callout_default"]),function(e){e.fire("onboard:tipclosePersistent"),f=n.template||e.ui.Templates.minty_module_offscreen_bin_callout_default,l=t.ezSub(f.base,{hdText:n.hdText,showHeader:!!n.hdText,bdText:n.bdText,showBody:!!n.bdText,showBody_else:!n.bdText,btnPrimaryText:n.btnPrimaryText,showPrimary:!!n.btnPrimaryText,btnCancelText:n.btnCancelText,showCancel:!!n.btnCancelText,showActions:!!n.btnPrimaryText||!!n.btnCancelText,pointer:n.pointer,showPointer:!!n.pointer,linkText:n.linkText,showLink:!!n.linkText,linkHref:typeof n.onLinkClick=="string",onLinkClick:n.onLinkClick,showArrows:n.showArrows,arrowLeftText:n.arrowLeftText||strings.str_back,arrowRightText:n.arrowRightText||strings.str_next,showLinkFooter:n.showArrows||!!n.linkText,imgSrc:n.imgSrc,showImg:!!n.imgSrc,imgClass:"callout-img-"+(n.imgPlace||"default")},f),c=function(t){var i=t.target,s=function(t){o(r,n.onUnmount),e.fire("util:ymstats",{name:"scout_cue_"+r+"_"+t,tags:{bucket:NeoConfig.expBucketId,agent:NeoConfig.browser}})};i.hasClass("close")?(s("close"),n.onClose&&n.onClose()):i.hasClass("callout-btn-primary")?(s("success"),n.onSuccess&&n.onSuccess()):i.hasClass("callout-btn-cancel")?(s("cancel"),n.onCancel&&n.onCancel()):i.get("parentNode").hasClass("callout-arrow-left")?(s("back"),n.onBack&&n.onBack()):i.get("parentNode").hasClass("callout-arrow-right")?(s("next"),n.onNext&&n.onNext()):i.hasClass("callout-link")&&(s("link"),typeof n.onLinkClick=="function"&&n.onLinkClick())},n.pointer&&(a.push("callout-pointer"),a.push("arrow-"+n.pointer)),s=typeof n.node=="string"?e.one(n.node):n.node;if(!s||s.getAttribute("hidden")==="true"||s.getStyle("visibility")==="hidden"||s.getStyle("display")==="none")return;e.fire("onboard:tip",{node:s,parent:n.parent,template:l,isPersistentTooltip:!0,offset:u,fn:c,classNames:a});if(!i()){e.fire("onboard:tipclosePersistent");return}e.fire("callout:action",{name:r,action:"shown",keyValue:n.keyVal!==undefined?n.keyVal:Date.now()}),n.onShow&&n.onShow(),h=e.one(".callout-default"),h&&h.focus(),e.fire("util:ymstats",{name:"scout_cue_"+r+"_invoke",tags:{bucket:NeoConfig.expBucketId,agent:NeoConfig.browser}})})}function i(){var t=e.one(".onboardtip"),n=window.innerWidth,r=window.innerHeight,i,s,o,u;return t?(i=t.getX(),s=t.getY(),o=parseInt(t.getComputedStyle("height"),10),u=parseInt(t.getComputedStyle("width"),10),i+u<=n&&i>=0&&s+o<=r&&s>=0):!1}function s(t,n){var i=t.name;if(!i)return;e.on("initCallout:"+i,function(){r(t),e.on("closeCallout:"+i,function(){o(i,t.onUnmount),t.onTimeout&&t.onTimeout(),e.fire("util:ymstats",{name:"scout_cue_"+i+"_timeout",tags:{bucket:NeoConfig.expBucketId,agent:NeoConfig.browser}})},this)}),n&&e.fire("callout:action",{name:i,action:"init"})}function o(t,n){e.fire("onboard:tipclosePersistent",{name:t}),e.fire("callout:action",{name:t,action:"close"}),n&&n()}e.mix(this,{showDefaultOnboarding:r,registerDefaultOnboarding:s,closeDefaultOnboarding:o,setupOnBoardToolTip:n})},e.mail.ui.Onboarding=new n,e.mail.ui.Onboarding.setupOnBoardToolTip()},"1.0.0",{requires:["common-utils","json-parse","node-event-simulate","onboarding_css"]});
YUI.add("_shared_module_offscreen_bin_modal_onboard_imap_in",function(e){e.namespace("ui.Templates"),e.ui.Templates._shared_module_offscreen_bin_modal_onboard_imap_in={base:'<div id="imapInOnboardDlg" class="modal imap-in-onboarding {{dlg_class}}" data-page="page-one" data-ob="{{ob_type}}"> <a href="#" class="icon icon-small-close close" data-action="cancel" title="{{str_btn_close}}"></a> <div class="modal-bd"> <div class="onboard-page"> <div class="bg"><img class="img" src="{{bg1}}"></div> <div class="hd">{{hd1}}</div> <div class="bd">{{bd1}}</div> </div> {{multipage}} </div> <div class="modal-ft"> {{pager}} <div class="lower"> <a href="#" class="{{action_class}} btn">{{action}}</a> </div> </div></div> ',multipage:'<div class="onboard-page"> <div class="bg"><img class="img" src="{{bg2}}"></div> <div class="hd">{{hd2}}</div> <div class="bd">{{bd2}}</div> </div> <div class="onboard-page last-page"> <div class="bg"><img class="img" src="{{bg3}}"></div> <div class="hd">{{hd3}}</div> <div class="bd">{{bd3}}</div> </div> ',pager:'<a href="#" class="left prev"><span class="icon icon-chevron-left"></span>{{str_imap_ob_dlg_previous}}</a> <div class="pager"> <div class="dot" data-action="page-one"></div> <div class="dot" data-action="page-two"></div> <div class="dot" data-action="page-three"></div> </div> <a href="#" class="right next">{{str_imap_ob_dlg_next}}<span class="icon icon-chevron-right"></span></a> '}},"1.0.0");
YUI.add("minty_module_offscreen_bin_imap_in_callout",function(e){e.namespace("ui.Templates"),e.ui.Templates.minty_module_offscreen_bin_imap_in_callout={base:'<div class="convstooltip multitasktooltip yui3-tooltips imap-in-onboarding" data-tip="tip-one" data-ob="{{ob_type}}"> <div class="tooltip-arrow-left"> <div class="inner-arrow"></div> </div> <div class="tooltip-arrow-up"> <div class="inner-arrow"></div> </div> <div class="modal tooltips-text onboarding-tip tip-one" tabindex="0"> <h2 class="modal-hd"> <span class="tip-count">{{str_imap_ob_tip_one}}</span> <a class="icon icon-small-close close" data-action="cancel" title="{{str_btn_close}}"></a> </h2> <div class="modal-bd"> <h1 class="h-one">{{str_imap_ob_tip_hd1}}</h1> <div class="tip-msg">{{str_imap_ob_tip_bd1}}</div> </div> <div class="modal-ft"> <a href="#" class="right next">{{str_imap_ob_dlg_next}}<span class="icon icon-chevron-right"></span></a> </div> </div> <div class="modal tooltips-text onboarding-tip tip-two" tabindex="0"> <h2 class="modal-hd"> <span class="tip-count">{{str_imap_ob_tip_two}}</span> <div class="icon icon-small-close close" data-action="cancel" title="{{str_btn_close}}"></div> </h2> <div class="modal-bd"> <h1 class="h-one">{{str_imap_ob_tip_hd2}}</h1> <div class="tip-msg">{{str_imap_ob_tip_bd2}}</div> </div> <div class="modal-ft"> <a href="#" class="right next">{{str_imap_ob_dlg_next}}<span class="icon icon-chevron-right"></span></a> </div> </div> <div class="modal tooltips-text onboarding-tip tip-three" tabindex="0"> <h2 class="modal-hd"> <span class="tip-count">{{str_imap_ob_tip_three}}</span> <div class="icon icon-small-close close" data-action="cancel" title="{{str_btn_close}}"></div> </h2> <div class="modal-bd"> <h1 class="h-one">{{str_imap_ob_tip_hd3}}</h1> <div class="tip-msg">{{str_imap_ob_tip_bd3}}</div> </div> <div class="modal-ft"> {{mobilizer}} </div> </div></div>',mobilizer:'<a href="#" class="right next">{{str_imap_ob_dlg_next}}<span class="icon icon-chevron-right"></span></a> </div> </div> <div class="modal tooltips-text onboarding-tip tip-four" tabindex="0"> <h2 class="modal-hd"> <span class="tip-count">{{str_imap_ob_tip_four}}</span> <div class="icon icon-small-close close" data-action="cancel" title="{{str_btn_close}}"></div> </h2> <div class="modal-bd"> <h1 class="h-one">{{str_imap_ob_tip_hd4}}</h1> <div class="tip-msg">{{str_imap_ob_tip_bd4}}</div> </div> <div class="modal-ft"> <div class="mobilizer-panel-content"> <form class="mobilizer-form"> <label class="mobilizer-input-label" for="mobilizer-phone"> {{str_mobilizer_get_link}} </label> <div class="mobilizer-form-row"> <i class="icon icon-info mobilizer-info-icon"></i><input type="text" class="mobilizer-phone-input"><button type="submit" disabled class="mobilizer-button mobilizer-button-send"> <i class="icon icon-alert mobilizer-button-send-alert"></i> <span class="mobilizer-button-send-text">{{str_imap_ob_tip_mblzr_text_me}}</span> </button> </div> <div class="mobilizer-info hidden">{{str_mobilizer_text_info}}</div> <div class="mobilizer-warning">{{str_mobilizer_fee_alert}}</div> </form> </div> <div class="mobilizer-success"> <div class="mobilizer-success-content"> <div class="thanks">{{str_imap_ob_tip_mblzr_thank_you}}</div> <div>{{str_imap_ob_tip_mblzr_link_sent}}</div> </div> </div> '}},"1.0.0");
/*
YUI 3.16.0 (build 3.16.0-ym17)
Copyright 2015 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

(function(){var e,t=YUI.Env,n=YUI.config,r=n.doc,i=r&&r.documentElement,s="onreadystatechange",o=n.pollInterval||40;i.doScroll&&!t._ieready&&(t._ieready=function(){t._ready()},
/*! DOMReady: based on work by: Dean Edwards/John Resig/Matthias Miller/Diego Perini */
self!==self.top?(e=function(){r.readyState=="complete"&&(t.remove(r,s,e),t.ieready())},t.add(r,s,e)):t._dri=setInterval(function(){try{i.doScroll("left"),clearInterval(t._dri),t._dri=null,t._ieready()}catch(e){}},o))})(),YUI.add("event-base-ie",function(e,t){function n(){e.DOM2EventFacade.apply(this,arguments)}function r(t){var n=e.config.doc.createEventObject(t),i=r.prototype;return n.hasOwnProperty=function(){return!0},n.init=i.init,n.halt=i.halt,n.preventDefault=i.preventDefault,n.stopPropagation=i.stopPropagation,n.stopImmediatePropagation=i.stopImmediatePropagation,e.DOM2EventFacade.apply(n,arguments),n}var i=e.config.doc&&e.config.doc.implementation,s=e.config.lazyEventFacade,o={0:1,4:2,2:3},u={mouseout:"toElement",mouseover:"fromElement"},a=e.DOM2EventFacade.resolve,f={init:function(){n.superclass.init.apply(this,arguments);var t=this._event,r,i,s,u,f,l;this.target=a(t.srcElement),"clientX"in t&&!r&&0!==r&&(r=t.clientX,i=t.clientY,s=e.config.doc,u=s.body,f=s.documentElement,r+=f.scrollLeft||u&&u.scrollLeft||0,i+=f.scrollTop||u&&u.scrollTop||0,this.pageX=r,this.pageY=i),t.type=="mouseout"?l=t.toElement:t.type=="mouseover"&&(l=t.fromElement),this.relatedTarget=a(l||t.relatedTarget),this.which=this.button=t.keyCode||o[t.button]||t.button},stopPropagation:function(){this._event.cancelBubble=!0,this._wrapper.stopped=1,this.stopped=1},stopImmediatePropagation:function(){this.stopPropagation(),this._wrapper.stopped=2,this.stopped=2},preventDefault:function(e){this._event.returnValue=e||!1,this._wrapper.prevented=1,this.prevented=1}};e.extend(n,e.DOM2EventFacade,f),e.extend(r,e.DOM2EventFacade,f),r.prototype.init=function(){var e=this._event,t=this._wrapper.overrides,n=r._define,i=r._lazyProperties,s;this.altKey=e.altKey,this.ctrlKey=e.ctrlKey,this.metaKey=e.metaKey,this.shiftKey=e.shiftKey,this.type=t&&t.type||e.type,this.clientX=e.clientX,this.clientY=e.clientY,this.keyCode=this.charCode=e.keyCode,this.which=this.button=e.keyCode||o[e.button]||e.button;for(s in i)i.hasOwnProperty(s)&&n(this,s,i[s]);this._touch&&this._touch(e,this._currentTarget,this._wrapper)},r._lazyProperties={target:function(){return a(this._event.srcElement)},relatedTarget:function(){var e=this._event,t=u[e.type]||"relatedTarget";return a(e[t]||e.relatedTarget)},currentTarget:function(){return a(this._currentTarget)},wheelDelta:function(){var e=this._event;if(e.type==="mousewheel"||e.type==="DOMMouseScroll")return e.detail?e.detail*-1:Math.round(e.wheelDelta/80)||(e.wheelDelta<0?-1:1)},pageX:function(){var t=this._event,n=t.pageX,r,i,s;return n===undefined&&(r=e.config.doc,i=r.body&&r.body.scrollLeft,s=r.documentElement.scrollLeft,n=t.clientX+(s||i||0)),n},pageY:function(){var t=this._event,n=t.pageY,r,i,s;return n===undefined&&(r=e.config.doc,i=r.body&&r.body.scrollTop,s=r.documentElement.scrollTop,n=t.clientY+(s||i||0)),n}},r._define=function(e,t,n){function r(r){var i=arguments.length?r:n.call(this);return delete e[t],Object.defineProperty(e,t,{value:i,configurable:!0,writable:!0}),i}Object.defineProperty(e,t,{get:r,set:r,configurable:!0})};if(i&&!i.hasFeature("Events","2.0")){if(s)try{Object.defineProperty(e.config.doc.createEventObject(),"z",{})}catch(l){s=!1}e.DOMEventFacade=s?r:n}},"3.16.0",{requires:["node-base"]});
YUI.add("gallery-event-pasted",function(D){function C(J,A){var L=A&&D.one(A).get("tagName")||"div",B=document.createElement(L),K=(J.indexOf("on")===0?J:"on"+J),I=(K in B);if(!I){B.setAttribute(K,"");I=D.Lang.isFunction(B[K]);}if(I&&!D.Node.DOM_EVENTS[K.substr(2)]){D.Node.DOM_EVENTS[K.substr(2)]=1;}return I;}D.Event.define("pasted",{on:function(V,B,R){var X=B.args&&B.args[0],T=V.test("input[type=text],input[type=password],textarea")?"value":"text",S=D.guid(),P=function(E,F){if(!X||E!==F){R.fire({prevVal:E,newVal:F});}},U,W,Q,A,O;if(C("paste",V)){V.on(S+"|paste",function(E){U=this.get(T);D.later(0,null,function(){W=E.target.get(T);P(U,W);});});}else{if(C("input",V)){A=50;O=function(E){if(E.type==="keypress"&&E.ctrlKey){return;}Q={sel:this.get("selectionEnd")-this.get("selectionStart"),val:this.get(T),mtime:+(new Date())};};V.on(S+"|keypress",O);V.on(S+"|select",O);V.on(S+"|input",function(E){U=Q?Q.val:"";W=this.get(T);if(Q&&W.length===(U.length-Q.sel)){}else{if(!Q||(+(new Date())-Q.mtime)>A){P(U,W);}}O.call(this,E);});B._state=Q;}else{}}B._evtGroup=S;},detach:function(A,B,F){A.detachAll(B._evtGroup+"|*");}});},"gallery-2010.08.11-20-39",{requires:["event-synthetic"]});YUI.add("input-mask",function(G){var E,D,B,A={srcNode:".phone-number-input",mask:"+1(   )   -    ",maskLetter:" "},C=function(I){var J,H;if(I.get("selectionStart")!==undefined){J=I.get("selectionStart");H=I.get("selectionEnd");}else{if(document.selection){I.focus();D=document.selection.createRange();J=-D.duplicate().moveStart("character",-I.get("value").length);H=J+D.text.length;}}return{start:J,end:H};},F=function(H,I){E=H.getDOMNode();if(E.setSelectionRange){E.focus();E.setSelectionRange(I.start,I.end);}else{if(E.createTextRange){B=E.createTextRange();B.collapse(true);B.moveEnd("character",I.end);B.moveStart("character",I.start);B.select();}}};G.InputMask=function(K){this.config={};this.config.srcNode=K.srcNode||A.srcNode;this.mask=K.mask||A.mask;this.maskLetter=K.maskLetter||A.maskLetter;this.firstMaskPos=this.mask.indexOf(this.maskLetter);this.lastMaskPos=this.mask.lastIndexOf(this.maskLetter)+1;this.notInputPos=[];this.maskPhoneLength=this.mask.match(new RegExp(this.maskLetter,"g")).length;this.input=G.one(this.config.srcNode);var H=this.mask,I=H.search(new RegExp("[^"+this.maskLetter+"]")),J=0;while(I>-1){this.notInputPos.push(I+J);J+=I+1;H=H.substr(I+1);I=H.search(new RegExp("[^"+this.maskLetter+"]"));}};G.InputMask.prototype={setCaret:function(J){var H=this.input,I=H.get("value");if(!(I.charAt(J.end)>="0"&&I.charAt(J.end)<="9")&&I.charAt(J.end)!==this.maskLetter&&J.end<this.mask.length||J.start<this.firstMaskPos){if(J.start===J.end){this.setCaret({start:J.start+1,end:J.end+1});}else{this.setCaret({start:J.start,end:J.end+1});}return;}F(H,J);},getCaret:function(){return C(this.input);},caretLeft:function(I,K){var J=K.start,H=K.end;if(H<=this.firstMaskPos){K={start:this.firstMaskPos,end:this.firstMaskPos};}else{if(J<=this.firstMaskPos&&H>this.firstMaskPos){K={start:this.firstMaskPos,end:this.firstMaskPos};}else{if(I.charAt(J-1)===")"||I.charAt(J-1)==="-"){K={start:J-2,end:J-2};}else{K={start:J-1,end:J-1};}}}this.setCaret(K);return K;},setValue:function(L,M){var K,J,H,I=L.substr(this.firstMaskPos).replace(new RegExp("[^0-9"+this.maskLetter+" ]","g"),"");while(I.length<this.maskPhoneLength+1){I=I.concat(this.maskLetter);}I=I.substr(0,this.maskPhoneLength);K=this.mask;for(J=0,H=0;J<K.length;++J){if(K.charAt(J)===this.maskLetter){K=K.substring(0,J)+I.charAt(H)+K.substr(J+1);H++;}}this.input.set("value",K);this.setCaret(M);this.fire("valueSet");},getPhoneNumberOnly:function(){var H=this.input.get("value");return H.replace(/[^0-9]/g,"");},render:function(){var H=this,J=this.input,I={onFocus:function(K){if(!J.get("value")){H.setValue(H.mask,{start:H.firstMaskPos,end:H.firstMaskPos});}},onPaste:function(L){var P=J.get("value"),Q=H.getCaret(),O=P.substr(H.firstMaskPos).replace(/[^0-9]/g,""),K=O.length,N,M=0;for(N=0;N<H.notInputPos.length;++N){if(H.notInputPos[N]>H.firstMaskPos&&H.notInputPos[N]-H.firstMaskPos<K+M){M++;}}Q.start=K+M+H.firstMaskPos;Q.end=Q.start;H.setValue(P,Q);},afterClick:function(K){var L=J.get("value");if(!L||L===H.mask){H.setCaret({start:H.firstMaskPos,end:H.firstMaskPos});}},onKeyDown:function(L){var O="",R=H.getCaret(),Q=R.start,K=R.end,P=J.get("value"),N=L.keyCode,M=String.fromCharCode(N);if(L.keyCode==9||L.keyCode===13){return;}L.preventDefault();if(N===8||N===46){R=H.caretLeft(P,R);O=P.substring(0,R.start)+P.substr(R.start+1);H.setValue(O,R);}else{if(N===37){if(L.shiftKey&&Q>H.firstMaskPos){H.setCaret({start:Q-1,end:K});}else{if(L.metaKey){H.setCaret({start:H.firstMaskPos,end:H.firstMaskPos});}else{if(Q>H.firstMaskPos){H.caretLeft(P,{start:Q,end:Q});}else{H.setCaret({start:H.firstMaskPos,end:H.firstMaskPos});}}}}else{if(N===39){if(L.shiftKey){H.setCaret({start:R.start,end:R.end+1});}else{if(L.metaKey){H.setCaret({start:H.lastMaskPos,end:H.lastMaskPos});}else{if(K<H.lastMaskPos){H.setCaret({start:K+1,end:K+1});}else{H.setCaret({start:H.lastMaskPos,end:H.lastMaskPos});}}}}}}},onKeyPress:function(S){var M="",Q=H.getCaret(),L=Q.start,P=Q.end,N=J.get("value"),T=S.charCode||S.keyCode,U=T>=48&&T<=57,R=T>=96&&T<=105,O=48,K;if(S.altKey||S.ctrlKey||S.metaKey){return;}S.preventDefault();if(U||R){if(R){T-=O;}K=String.fromCharCode(T);M=N.substring(0,L)+K+N.substr(P);H.setValue(M,{start:L+1,end:L+1});}}};if(navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i)){return;}else{J.on("valuechange",I.onValueChange);J.on("keydown",I.onKeyDown);J.on("keyup",I.onKeyPress);J.on("focus",I.onFocus);J.on("pasted",I.onPaste);J.after("click",I.afterClick);}}};G.augment(G.InputMask,G.EventTarget);},"0.0.1",{requires:["event-valuechange","event-base-ie","gallery-event-pasted","event-focus","event-base"]});YUI.add("common-utils-rapid-viewmap",function(e){e.namespace("common.Utils").RapidVM={folderview_inbox:["click_select","mas_frm_srch","msglist_delBtn","flag_message","unflag_message","open_msg"],autosuggest_footer:["autosuggest_auth_facebook","autosuggest_auth_linkedin","autosuggest_auth_twitter"]}},"1.0.0",{requires:["common-utils-rapid-clickmap"]});
YUI.add("mail-ui-onboarding-imap-in-ult",function(e){e.mix(e.common.Utils.RapidCM,{imapob_force_prev:["onbrdngDlg","dialog","onbrdngDlg","imapInFrc","prv"],imapob_force_dot:["onbrdngDlg","dialog","onbrdngDlg","imapInFrc","dot"],imapob_force_next:["onbrdngDlg","dialog","onbrdngDlg","imapInFrc","nxt"],imapob_force_close:["onbrdngDlg","dialog","onbrdngDlg","imapInFrc","cls"],imapob_force_connect:["onbrdngDlg","dialog","onbrdngDlg","imapInFrc","cnnct"],imapob_noforce_prev:["onbrdngDlg","dialog","onbrdngDlg","imapInNoFrc","prv"],imapob_noforce_dot:["onbrdngDlg","dialog","onbrdngDlg","imapInNoFrc","dot"],imapob_noforce_next:["onbrdngDlg","dialog","onbrdngDlg","imapInNoFrc","nxt"],imapob_noforce_close:["onbrdngDlg","dialog","onbrdngDlg","imapInNoFrc","cls"],imapob_noforce_connect:["onbrdngDlg","dialog","onbrdngDlg","imapInNoFrc","cnnct"],imapob_post_next:["onbrdngDlg","dialog","onbrdngDlg","imapInPst","nxt"],imapob_post_close:["onbrdngDlg","dialog","onbrdngDlg","imapInPst","close"],imapob_post_mblzr_info:["onbrdngDlg","dialog","onbrdngDlg","imapInPst","mblzrInfo"],imapob_post_mblzr_send:["onbrdngDlg","dialog","onbrdngDlg","imapInPst","mblzrSnd"],imapob_post_mblzr_send_success:["onbrdngDlg","dialog","onbrdngDlg","imapInPst","mblzrSndSuccess"],imapob_post_mblzr_send_fail:["onbrdngDlg","dialog","onbrdngDlg","imapInPst","mblzrSndFail"],imapob_marketing:["onbrdngDlg","dialog","onbrdngDlg","imapInMrktng"]}),e.mix(e.common.Utils.RapidVM,{imapob_force_pre:["imapob_force_prev","imapob_force_dot","imapob_force_next","imapob_force_close","imapob_force_connect"],imapob_noforce_pre:["imapob_noforce_prev","imapob_noforce_dot","imapob_noforce_next","imapob_noforce_close","imapob_noforce_connect"],imapob_post:["imapob_post_next","imapob_post_close","imapob_post_mblzr_info","imapob_post_mblzr_send","imapob_post_mblzr_send_success","imapob_post_mblzr_send_fail"]})},"1.0.0",{requires:["common-utils-rapid-clickmap","common-utils-rapid-viewmap"]});
YUI.add("mail-ui-onboarding-imap-in",function(e){var t="imapInOnboardingTip",n="#"+t,r=e.common.Utils,i=r.features,s=!1,o;o={_onboardDlg:null,_mobilizerInputMask:null,_evts:[],stat:function(t){e.fire("util:ymstats",{name:"imapInOnboarding",tags:{type:t}})},openAccountOptions:function(t){t||(NeoConfig.onboarding.imapInPre?t="providerList":t="addGoogle"),e.fire("openOptions",{view:"accounts",subView:{sid:t}})},launchAddAccount:function(t){NeoGV.postLoadFired?o.openAccountOptions(t):e.once("tictacs-loaded:ws:postLoad",function(){o.openAccountOptions(t)})},closeDlg:function(){o._onboardDlg.hide(),e.fire("util:ymstats",{name:"imapInOnboardingClose",tags:{page:o._onboardDlg.get("contentBox").getAttribute("data-page"),version:r.settings.value("imapInOnboardingAssets",{version:1}).version,force:i.enabled("force")?1:0}})},handleDlgClk:function(t,n){var s=o._onboardDlg,u=s.get("contentBox"),a=t.target,f,l,c;c=u.getAttribute("data-page"),a.hasClass("close")?(t.halt(),o.closeDlg(),e.fire("callout:action",{name:"imapInPre",action:"close"}),f=n+(a.hasClass("ok")?"ok":"close")):a.hasClass("dot")?(l=a.getAttribute("data-action"),f=n+"dot"):a.hasClass("connect")?(s.hide(),o.launchAddAccount(),f=n+"connect",e.fire("util:ymstats",{name:"imapInOnboardingConnect",tags:{page:c,version:r.settings.value("imapInOnboardingAssets",{version:1}).version,force:i.enabled("force")?1:0}})):(a.ancestor(".prev",!0)?(c==="page-two"?l="page-one":c==="page-three"&&(l="page-two"),f=n+"prev"):a.ancestor(".next",!0)&&(c==="page-one"?l="page-two":c==="page-two"&&(l="page-three"),f=n+"next"),t.halt()),l&&u.setAttribute("data-page",l),f&&e.fire("mt:click",{action:f,append:{ltxt:c}})},getSearchField:function(){return e.one(".search-container")||NeoConfig.searchField},initMobilizer:function(t){var n;if(o._mobilizerInputMask)return;n=new e.InputMask({srcNode:".mobilizer-phone-input"}),n.render(),n.on("valueSet",function(){var e=n.getPhoneNumberOnly().length,r=e!==11;t.one(".mobilizer-button-send").set("disabled",r),s=r}),t.one(".mobilizer-phone-input").set("placeholder",n.mask),t.one(".mobilizer-form").on("submit",function(e){e.halt()}),o._mobilizerInputMask=n},mobilizerSuccess:function(){e.one(n).addClass("mobilizer-done"),e.fire("mt:click",{action:"imapob_post_mblzr_send_success"})},mobilizerError:function(){o.setMobilizerSend(!0),e.fire("mt:click",{action:"imapob_post_mblzr_send_fail"})},setMobilizerSend:function(t){s=!t,e.one(n+" .mobilizer-button-send").set("disabled",s)},sendJSONPRequest:function(t,n){var r="https://ucs.netsvs.yahoo.com/json/gtaa/index.php?phoneNumber="+encodeURIComponent(n)+"&wssid="+encodeURIComponent(t)+"&appid=modal-mail&button_revision=1&modal_revision=1&format=json&callback={callback}";o.setMobilizerSend(!1),e.jsonp(r,{on:{success:function(e){e.result===1?o.mobilizerSuccess():o.mobilizerError(e)},failure:o.mobilizerError}})},sendText:function(){var t,n,r;if(s)return;n=e.one("#yucs-meta"),n&&(r=n.getData("gta"));if(!r)return;t=o._mobilizerInputMask.getPhoneNumberOnly(),o.sendJSONPRequest(r,t)},closeTip:function(t){e.fire("onboard:tipclose"),e.fire("mt:click",{action:"imapob_post_close",append:{ltxt:t}})},handleTipClk:function(t){var r=e.one(n),i=r.one(".imap-in-onboarding"),s=i.getAttribute("data-tip"),u=t.target,a,f,l,c,h;if(u.hasClass("close"))o.closeTip(s),e.fire("callout:action",{name:"imapInPost",action:"close"});else if(u.ancestor(".next",!0)){switch(s){case"tip-one":a="tip-two",f=o.getSearchField();break;case"tip-two":a="tip-three",f=e.one("#btn-archive")||e.one("#btn-delete");break;case"tip-three":r.addClass("no-transition"),a="tip-four";break;default:a=null}a&&i.setAttribute("data-tip",a),h=NeoConfig.isRTL,f?(l=f.getXY(),h&&(l[0]=e.one("body").get("offsetWidth")-l[0]-f.get("offsetWidth")),l[1]+=f.get("offsetHeight")+10,c={top:l[1]+"px"},c[h?"right":"left"]=l[0]+"px",r.setStyles(c)):(c={top:"auto",bottom:"20px"},c[h?"right":"left"]="20px",r.setStyles(c),o.initMobilizer(r)),t.halt(),e.fire("mt:click",{action:"imapob_post_next",append:{ltxt:s}})}else u.hasClass("mobilizer-info-icon")?(r=e.one(n),r.one(".mobilizer-info").toggleClass("hidden"),e.fire("mt:click",{action:"imapob_post_mblzr_info"})):u.ancestor(".mobilizer-button-send",!0)&&(o.sendText(),t.halt(),e.fire("mt:click",{action:"imapob_post_mblzr_send"}))},bindDlgUI:function(e){var t=o._onboardDlg.get("contentBox");o._evts.push(t.delegate("click",o.handleDlgClk,".dot, .prev, .next, .connect, .signup, .ok, .close",null,e))},showOnboardingDlg:function(t){var n=e.ui.Templates._shared_module_offscreen_bin_modal_onboard_imap_in,s=new e.comms.ui.Dialog({template:r.ezSub(n.base,t,n),centered:!0});s.render(),s.show(),o._onboardDlg=s,o.bindDlgUI(t.rapidPrefix),i.enabled("scout")&&e.once("closeCallout:imapInPre",o.closeDlg),r.setLaunchOnboardingShown(!0)},showPreOnboarding:function(){var t="g",n="o",s="a",u=NeoConfig.userDataObj.userSendPref,a=r.settings.value("imapInOnboardingAssets"),f=i.enabled("force"),l=[],c;a.multipage=!0,a.pager=!0,a.name=u.firstName||u.defaultFromName,a.action_class="connect",i.enabled("imapGoogle",!1)&&l.push(t),i.enabled("imapOutlook",!1)&&l.push(n),i.enabled("imapAol",!1)&&l.push(s),l.length||(l=[t,n,s]),a.providers=l.join("-"),c=l.join(""),a.str_imap_ob_dlg_force_bd1a=strings["str_imap_ob_dlg_force_bd1a_"+c],a.str_imap_ob_dlg_force_bd1b=strings["str_imap_ob_dlg_force_bd1b_"+c],a.str_imap_ob_dlg_force_bd1c=strings["str_imap_ob_dlg_force_bd1c_"+c],a.str_imap_ob_dlg_force_hd1d=strings["str_imap_ob_dlg_force_hd1d_"+c],f?(a.rapidPrefix="imapob_force_",a.ob_type="f-pre"):(a.rapidPrefix="imapob_noforce_",a.ob_type="nf-pre"),o.showOnboardingDlg(a),i.enabled("scout")?e.fire("callout:action",{name:"imapInPre",action:"shown",keyValue:Date.now()}):e.fire("setUdbKey",{imapInPre:Date.now()}),f?(o.stat("pre-force"),e.fire("mt:view",{action:"imapob_force_pre"})):(o.stat("pre-not-force"),e.fire("mt:view",{action:"imapob_noforce_pre"}))},showPreOnboardingV2:function(t){var n=r.settings.value("imapInOnboardingAssetsV2"),s=NeoConfig.userDataObj.userSendPref
,u=i.enabled("force"),a;if(!t){e.fire("callout:action",{name:"imapInPreV2",action:"shown",keyValue:NeoConfig.serverTime});return}NeoConfig.isRTL?a=n[t+"_rtl"]:a=n[t],a.multipage=!0,a.pager=!0,a.name=s.firstName||s.defaultFromName,a.action_class="connect",u?(a.rapidPrefix="imapob_force_",a.ob_type="f-pre"):(a.rapidPrefix="imapob_noforce_",a.ob_type="nf-pre"),o.showOnboardingDlg(a),e.fire("callout:action",{name:"imapInPreV2",action:"shown",keyValue:NeoConfig.serverTime}),u?(o.stat("pre-force"),e.fire("mt:view",{action:"imapob_force_pre"})):(o.stat("pre-not-force"),e.fire("mt:view",{action:"imapob_noforce_pre"}))},showPostOnboarding:function(){var s=e.ui.Templates.minty_module_offscreen_bin_imap_in_callout,u=i.enabled("imapInOnboardingMobilizer"),a=r.ezSub(s.base,{ob_type:"post",mobilizer:u,total_count:u?"4":"3"},s),f=e.one("#shellnavigation .listnav-outter");e.fire("onboard:tip",{node:f,template:a,fn:function(){},id:t,offset:[200,20],evt:{parent:n,actionType:"click",handler:o.handleTipClk,target:".close, .next, .icon, .mobilizer-info-icon, .mobilizer-button-send"}}),i.enabled("scout")?(e.fire("callout:action",{name:"imapInPost",action:"shown",keyValue:Date.now()}),e.once("closeCallout:imapInPost",function(){o.closeTip(0)})):(e.fire("setUdbKey",{imapInPost:Date.now()}),r.setLaunchOnboardingShown(!0)),o.stat("post"),e.fire("mt:view",{action:"imapob_post"})},init:function(){var t=NeoConfig.accounts,n=t&&t.imapInAccounts,s=i.enabled("showImapInOnboardingPost"),u=i.enabled("showImapInOnboardingPre"),a=i.enabled("imapInOnboardingV2"),f=NeoConfig.onboarding,l="imaps://gmail.com",c,h,p,d;if(!i.enabled("scout")&&r.isLaunchOnboardingShown())return;if(n){p=n.length;for(d=0;d<p;d++)n[d].status==="ENABLED"&&(c=!0),n[d].serverUri===l&&(h=!0)}!u&&(s||c&&!f.imapInPreV2)?s||c&&f.imapInPost?o.showPostOnboarding():f.imapInOverview&&(o.launchAddAccount("providerList"),e.fire("mt:click",{action:"imapob_marketing"})):u||a&&f.imapInPreV2?h?o.showPreOnboardingV2(null):f.imapInPre?o.showPreOnboardingV2("B"):o.showPreOnboardingV2("A"):f.imapInOverview&&(o.launchAddAccount("providerList"),e.fire("mt:click",{action:"imapob_marketing"}))}},e.namespace("mail.ui.onboarding").ImapIn=o},"1.0.0",{requires:["common-utils","mail-ui-onboarding","_shared_module_offscreen_bin_modal_onboard_imap_in","minty_module_offscreen_bin_imap_in_callout","imap-in-onboarding_css","mail-common-utils-features","mail-common-utils-settings","input-mask","mail-ui-onboarding-imap-in-ult","common-net-sessionmgr"]});
